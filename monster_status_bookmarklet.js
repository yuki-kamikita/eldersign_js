javascript:(function(){try{var capEls=Array.from(document.querySelectorAll('div.status table caption'));var cap=capEls.find(c=>c.textContent.trim()==='ステータス');if(!cap){alert('ステータス表が見つかりません');return;}var table=cap.closest('table');var rows=Array.from(table.querySelectorAll('tbody tr'));var targets=['HP','攻撃','魔力','防御','命中','敏捷'];var lines=[];var total=0;rows.forEach(function(tr){var th=tr.querySelector('th');if(!th)return;var label=th.textContent.trim();if(targets.indexOf(label)===-1)return;var dlabel=label==='HP'?'ＨＰ':label;var tds=tr.querySelectorAll('td');if(tds.length<2)return;var val=tds[0].textContent.trim();var bonusTxt=tds[1].textContent.trim();var current=parseInt(val.split('/')[0].replace(/[^\d\-]/g,''),10);if(isNaN(current))return;var m=bonusTxt.match(/([+-]?\d+)/);var bonus=m?parseInt(m[1],10):0;var base=current-bonus;var pct=base?bonus/base*100:0;total+=pct;var baseStr=String(base);var bonusStr=String(bonus);var basePad=' '.repeat(Math.max(0,5-baseStr.length));var bonusPad=' '.repeat(Math.max(0,4-bonusStr.length));var pctStr=(Math.abs(pct)<10?' ':'')+pct.toFixed(1);lines.push(dlabel+':'+basePad+baseStr+'+'+bonusPad+bonusStr+' (+'+pctStr+'%)');});lines.push('-----------------------');var totalStr=total.toFixed(1);lines.push('合計: +'+totalStr+'%');var box=document.createElement('div');box.style.cssText='position:fixed;top:10px;right:10px;z-index:99999;background:rgba(0,0,0,0.8);color:white;padding:10px 15px;border-radius:8px;font-family:monospace;white-space:pre;max-width:90%;cursor:pointer;font-size:14px;';box.textContent=lines.join("\n");box.onclick=function(){box.remove();};document.body.appendChild(box);}catch(e){alert("エラー:"+e.message);}})();
